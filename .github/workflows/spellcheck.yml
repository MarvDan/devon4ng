name: spellcheck
on:
  push:
     paths:
       - '**.asciidoc'
       - '**.md'
  workflow_dispatch:
jobs:
  changes:
    runs-on: ubuntu-latest
    # Set job outputs to values from filter step
    outputs:
      documentation: ${{ steps.filter.outputs.documentation }}
    steps:
    - uses: dorny/paths-filter@v2
      id: filter
      with:
        filters: |
          documentation:
            - 'documentation/**'
  build:
    needs: changes
    if: ${{ needs.changes.outputs.documentation == 'true' }}
    runs-on: ubuntu-latest
    steps:
     - name: spellcheck checkout
       uses: actions/checkout@v2
     - name: download dictionary
       run: |
        wget https://raw.githubusercontent.com/devonfw/.github/master/en-devonfw.dict -O ./en-devonfw.dict
     - uses: igsekor/pyspelling-any@v0.0.2
       name: Spellcheck
